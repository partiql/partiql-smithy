public data class {{name}}(
{{#fields}}
    @JvmField val {{name}}: {{type}},
{{/fields}}
) : {{parent}} {

    public override fun write(writer: IonWriter) {
        {{#wrap}}
        writer.stepIn(IonType.SEXP)
        {{/wrap}}
        {{#fields}}
        {{#write}}
        writer.{{write}}
        {{/write}}
        {{^write}}
        {{name}}.write(writer)
        {{/write}}
        {{/fields}}
        {{#wrap}}
        writer.stepOut()
        {{/wrap}}
    }

    public companion object {

        @JvmStatic
        public fun read(reader: IonReader): {{name}} {
            {{#wrap}}
            reader.stepIn()
            {{/wrap}}
            {{#fields}}
            assert(reader.next() == IonType.{{ion}})
            {{#read}}
            val {{name}}: {{type}} = reader.{{read}}
            {{/read}}
            {{^read}}
            val {{name}}: {{type}} = {{type}}.read(reader)
            {{/read}}
            {{/fields}}
            {{#wrap}}
            assert(reader.next() == null)
            reader.stepOut()
            {{/wrap}}
            return {{name}}({{#fields}}{{name}},{{/fields}})
        }
    }
}
